<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Site Auditor · Início</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                500: '#6366f1',
                600: '#4f46e5',
              },
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="h-screen bg-slate-950 text-white relative selection:bg-primary-500/60 selection:text-white"
  >
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(99,102,241,0.35),transparent_55%)]"></div>
    <div class="absolute inset-y-0 right-0 w-1/2 bg-gradient-to-b from-fuchsia-500/10 to-cyan-400/5 blur-3xl"></div>

    <main class="relative z-10 flex flex-col items-center px-4 py-16 gap-12">
      <div
        class="text-center max-w-6xl space-y-6 p-8 "
      >
        <p class="uppercase tracking-[0.4em] text-lg text-white/70">SEOSCOPE</p>
        <h1 class="text-3xl md:text-6xl font-bold leading-tight">
          Veja como o as inteligências artificiais analizam sites.
        </h1>
        <p class="text-white/70 text-lg">
          Combine Performance, SEO, Acessibilidade e UX em uma única análise exatamente como ChatGPT e Gemini classificam. 
        </p>
      </div>

      <section
        class="w-full max-w-4xl bg-white/10 border border-white/15 rounded-[40px] shadow-[0_30px_80px_rgba(15,23,42,0.65)] backdrop-blur-2xl p-8"
      >
        <form id="auditor-form" class="space-y-6">
          <div class="flex flex-col gap-3">
            <label for="url" class="text-white/75 font-medium">Domínio para auditar</label>
            <div
              class="flex flex-col md:flex-row gap-4 md:items-center bg-white/5 rounded-[32px] border border-white/10 px-6 py-4"
            >
              <input
                id="url"
                name="url"
                type="text"
                required
                placeholder="exemplo.com"
                class="flex-1 bg-transparent text-white/90 placeholder:text-white/40 outline-none text-lg"
              />
              <button
                type="submit"
                class="whitespace-nowrap bg-gradient-to-r from-primary-500 to-primary-600 font-semibold text-lg px-8 py-3 rounded-full shadow-lg shadow-primary-500/30 hover:scale-[1.02] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500 transition"
              >
                Auditar agora
              </button>
            </div>
          </div>

          <div class="flex flex-wrap gap-6 text-white/70">
            <label class="flex items-center gap-3 bg-white/5 border border-white/10 rounded-2xl px-4 py-3">
              Timeout (ms)
              <input
                type="number"
                name="timeout"
                min="1000"
                step="500"
                placeholder="30000"
                class="w-28 text-white bg-transparent border border-white/15 rounded-lg px-3 py-1 outline-none"
              />
            </label>
            <label class="flex items-center gap-3 bg-white/5 border border-white/10 rounded-2xl px-4 py-3">
              Máx. links
              <input
                type="number"
                name="maxLinks"
                min="1"
                max="100"
                placeholder="25"
                class="w-24 text-white bg-transparent border border-white/15 rounded-lg px-3 py-1 outline-none"
              />
            </label>
          </div>

          <p id="status" class="text-sm text-rose-300 h-5"></p>
        </form>

        <div class="mt-10 grid gap-4 md:grid-cols-2 text-white/80">
          <div class="bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-2xl">
            <p class="text-sm uppercase tracking-[0.3em] text-white/50">Cobertura</p>
            <h3 class="text-2xl font-semibold mt-2">Performance · SEO · A11y · UX</h3>
            <p class="text-white/70 mt-3">
              Métricas detalhadas com Playwright, PerformanceObserver e axe-core para garantir diagnósticos confiáveis.
            </p>
          </div>
          <div class="bg-white/5 border border-white/10 rounded-3xl p-6 backdrop-blur-2xl">
            <p class="text-sm uppercase tracking-[0.3em] text-white/50">Saída</p>
            <h3 class="text-2xl font-semibold mt-2">Dashboard instantâneo</h3>
            <p class="text-white/70 mt-3">
              Resultados exibidos em página dedicada com scores, estatísticas e lista de violações principais.
            </p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const form = document.getElementById('auditor-form');
      const statusEl = document.getElementById('status');

      form.addEventListener('submit', (event) => {
        event.preventDefault();
        const data = new FormData(form);
        const url = (data.get('url') || '').trim();
        if (!url) {
          statusEl.textContent = 'Informe um domínio válido.';
          return;
        }

        const params = new URLSearchParams();
        const normalized = normalizeUrl(url);
        if (!normalized) {
          statusEl.textContent = 'Formato inválido. Tente algo como exemplo.com';
          return;
        }
        params.set('url', normalized);

        const timeout = sanitizeNumber(data.get('timeout'));
        const maxLinks = sanitizeNumber(data.get('maxLinks'));
        if (timeout) params.set('timeout', timeout);
        if (maxLinks) params.set('maxLinks', maxLinks);

        window.location.href = `/results.html?${params.toString()}`;
      });

      function sanitizeNumber(value) {
        if (!value) return '';
        const num = Number(value);
        return Number.isFinite(num) ? num : '';
      }

      function normalizeUrl(raw) {
        const value = (raw || '').trim();
        if (!value) return '';
        if (/^https?:\/\//i.test(value)) return value;
        if (!value.includes('.')) return '';
        return `https://${value}`;
      }
    </script>
  </body>
</html>
